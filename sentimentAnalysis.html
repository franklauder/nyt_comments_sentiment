<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Francis Lauder">
<meta name="dcterms.date" content="2026-01-07">

<title>Sentiment Analysis of New York Times Comments</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="nyt_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="nyt_report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="nyt_report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="nyt_report_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="nyt_report_files/libs/quarto-html/popper.min.js"></script>
<script src="nyt_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="nyt_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="nyt_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="nyt_report_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="nyt_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="nyt_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="nyt_report_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="nyt_report_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="nyt_report_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="nyt_report_files/libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="nyt_report_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="nyt_report_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="nyt_report_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="nyt_report_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="nyt_report_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="nyt_report_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Sentiment Analysis of New York Times Comments</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Francis Lauder </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 7, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Natural language processing (NLP) basically focuses on using computers to analyze and understand text. It converts human language into a format that machines can understand and process. This enables computers to analyze and make sense of human language. There are many techniques used in NLP, such as text classification, topic modeling, and others. For our project we’ll be using the sentiment analysis technique. Sentiment analysis determines the opinion of an author expressed in a piece of text. The text can be categorized as either positive, negative, or neutral. We’ll be analyzing comments from the New York Times for the 2017 year. The data includes then months January through April. The datasets used for our analysis can be found on the Kaggle web site at then following link: <a href="https://www.kaggle.com/datasets/aashita/nyt-comments">New York Times Comments</a></p>
<p>Code used for our analysis is hidden and can be viewed by expanding the “Show Code” option.</p>
</section>
<section id="data-inspection" class="level1">
<h1>Data Inspection</h1>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">Libraries</h2>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(syuzhet)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(furrr)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quarto)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="data-review" class="level2">
<h2 class="anchored" data-anchor-id="data-review">Data Review</h2>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>nyt_comments17 <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 969,655
Columns: 5
$ commentBody    &lt;chr&gt; "This project makes me happy to be a 30+ year Times sub…
$ commentID      &lt;int&gt; 22022598, 22017350, 22017334, 22015913, 22015466, 22012…
$ commentType    &lt;chr&gt; "comment", "comment", "comment", "comment", "comment", …
$ newDesk        &lt;chr&gt; "Insider", "Insider", "Insider", "Insider", "Insider", …
$ typeOfMaterial &lt;chr&gt; "News", "News", "News", "News", "News", "News", "News",…</code></pre>
</div>
</div>
<p>We see from the above outputs that our dataset has just under 970,000 nrows. We will not require the commentType column and will remove it.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>nyt_comments17_short<span class="ot">&lt;-</span>nyt_comments17 <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>commentType)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nyt_comments17_short <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 969,655
Columns: 4
$ commentBody    &lt;chr&gt; "This project makes me happy to be a 30+ year Times sub…
$ commentID      &lt;int&gt; 22022598, 22017350, 22017334, 22015913, 22015466, 22012…
$ newDesk        &lt;chr&gt; "Insider", "Insider", "Insider", "Insider", "Insider", …
$ typeOfMaterial &lt;chr&gt; "News", "News", "News", "News", "News", "News", "News",…</code></pre>
</div>
</div>
</section>
</section>
<section id="data-preparation" class="level1">
<h1>Data Preparation</h1>
<p>Now that our data is selected, we will prepare our data for analysis. First a function will be created to clean the text in the commentBody. This will include removing HTML/Markdown tags, backslashes, and replacing multiple spaces with a single space.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>clean_comment_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text) {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  text <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">"&lt;.*?&gt;"</span>, <span class="st">" "</span>, .) <span class="sc">%&gt;%</span>                  <span class="co"># Remove HTML/Markdown tags like &lt;br/&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span>, <span class="st">" "</span>, .) <span class="sc">%&gt;%</span>                   <span class="co"># Remove backslashes</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">"[^</span><span class="sc">\\</span><span class="st">p{L}</span><span class="sc">\\</span><span class="st">p{N}</span><span class="sc">\\</span><span class="st">s!?</span><span class="sc">\\</span><span class="st">p{Emoji_Presentation}]"</span>, <span class="st">" "</span>, ., <span class="at">perl =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">" "</span>, .) <span class="sc">%&gt;%</span>                   <span class="co"># Replace multiple spaces with single space</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">trimws</span>()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>nyt_comments_clean<span class="ot">&lt;-</span>nyt_comments17_short <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">clean_comments =</span> <span class="fu">clean_comment_text</span>(commentBody))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>nyt_comments_clean <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 969,655
Columns: 5
$ commentBody    &lt;chr&gt; "This project makes me happy to be a 30+ year Times sub…
$ commentID      &lt;int&gt; 22022598, 22017350, 22017334, 22015913, 22015466, 22012…
$ newDesk        &lt;chr&gt; "Insider", "Insider", "Insider", "Insider", "Insider", …
$ typeOfMaterial &lt;chr&gt; "News", "News", "News", "News", "News", "News", "News",…
$ clean_comments &lt;chr&gt; "This project makes me happy to be a 30 year Times subs…</code></pre>
</div>
</div>
</section>
<section id="sentiment-extraction" class="level1">
<h1>Sentiment Extraction</h1>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(nyt_comments_clean)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 969655</code></pre>
</div>
</div>
<p>Because the dataset is relatively large at 969,655 rows, we will use parallel processing for efficency and speed during sentiment extraction. To accomplish this we will use the future_map_dbl function from the the furrr library. This function helps use cpu cores to parallel tasks. All but one cpu core will be used for our processing.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plan</span>(multisession, <span class="at">workers =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>For our sentiment analysis we will need to choose a sentiment lexicon. A lexicon is basically a sentiment dictionary that includes words and the sentiment the word has been tagged with such as negative or positive. We’ll be using the AFINN dictionary, which instead of each work being tagged as negative or positive, they are given a numeric score with a negative score indicating negative sentiment, a positive score indicating a positive sentiment, and a score of zero indicating neutral sentiment. The numeric scores range from -5 to 5. AFINN calculates the compounded score for each sentence in the text by adding the scores (weights) of each of the sentiment words. From this calculated score we can assign a category for each row of text.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_sentiments</span>(<span class="st">"afinn"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,477 × 2
   word       value
   &lt;chr&gt;      &lt;dbl&gt;
 1 abandon       -2
 2 abandoned     -2
 3 abandons      -2
 4 abducted      -2
 5 abduction     -2
 6 abductions    -2
 7 abhor         -3
 8 abhorred      -3
 9 abhorrent     -3
10 abhors        -3
# ℹ 2,467 more rows</code></pre>
</div>
</div>
<p>The first ten rows of te AFINN dictionary are shown above. We see the first column is the word and second is the value holding the sentiment score.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment<span class="ot">&lt;-</span>nyt_comments_clean <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">sentiment_score=</span><span class="fu">future_map_dbl</span>(clean_comments, get_sentiment, <span class="at">method =</span> <span class="st">"afinn"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 969,655
Columns: 6
$ commentBody     &lt;chr&gt; "This project makes me happy to be a 30+ year Times su…
$ commentID       &lt;int&gt; 22022598, 22017350, 22017334, 22015913, 22015466, 2201…
$ newDesk         &lt;chr&gt; "Insider", "Insider", "Insider", "Insider", "Insider",…
$ typeOfMaterial  &lt;chr&gt; "News", "News", "News", "News", "News", "News", "News"…
$ clean_comments  &lt;chr&gt; "This project makes me happy to be a 30 year Times sub…
$ sentiment_score &lt;dbl&gt; 5, -2, 8, 0, 4, 5, 4, 13, 3, 0, 4, -3, -5, 0, 1, -5, 7…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(commentID, sentiment_score) <span class="sc">|&gt;</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">30</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   commentID sentiment_score
1   22022598               5
2   22017350              -2
3   22017334               8
4   22015913               0
5   22015466               4
6   22012085               5
7   22003784               4
8   22024897              13
9   22082978               3
10  22004930               0
11  22005135               4
12  22004841              -3
13  22005149              -5
14  22004746               0
15  22005218               1
16  22005228              -5
17  22004632               7
18  22004617               5
19  22004589              -2
20  22004546               4
21  22004815              10
22  22004629               3
23  22005189              -2
24  22005185               5
25  22004932               0
26  22004805               0
27  22004566              -1
28  22004431              -5
29  22004413               1
30  22004294               0</code></pre>
</div>
</div>
<p>Using the glimpse function we now find that there is a new column named “sentiment_score”. Viewing the first thirty rows we see that a score has been assigned to each row.</p>
<p>Now that we have sentiment scores our next step is to assign a sentiment based on these scores. Negative scores (-5 to -1) will be assigned a sentiment of “negative”, positive scores (1 to 5) will be assigned a sentiment of “positive”, and a score of zero will be assigned “neutral”. This will be accomplished using the case_when function from the dplyr library.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment<span class="ot">&lt;-</span>comments17_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">sentiment=</span><span class="fu">case_when</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  sentiment_score <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"positive"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  sentiment_score <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"negative"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"neutral"</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 969,655
Columns: 7
$ commentBody     &lt;chr&gt; "This project makes me happy to be a 30+ year Times su…
$ commentID       &lt;int&gt; 22022598, 22017350, 22017334, 22015913, 22015466, 2201…
$ newDesk         &lt;chr&gt; "Insider", "Insider", "Insider", "Insider", "Insider",…
$ typeOfMaterial  &lt;chr&gt; "News", "News", "News", "News", "News", "News", "News"…
$ clean_comments  &lt;chr&gt; "This project makes me happy to be a 30 year Times sub…
$ sentiment_score &lt;dbl&gt; 5, -2, 8, 0, 4, 5, 4, 13, 3, 0, 4, -3, -5, 0, 1, -5, 7…
$ sentiment       &lt;chr&gt; "positive", "negative", "positive", "neutral", "positi…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>comments17_sentiment <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(commentID, sentiment) <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">30</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   commentID sentiment
1   22022598  positive
2   22017350  negative
3   22017334  positive
4   22015913   neutral
5   22015466  positive
6   22012085  positive
7   22003784  positive
8   22024897  positive
9   22082978  positive
10  22004930   neutral
11  22005135  positive
12  22004841  negative
13  22005149  negative
14  22004746   neutral
15  22005218  positive
16  22005228  negative
17  22004632  positive
18  22004617  positive
19  22004589  negative
20  22004546  positive
21  22004815  positive
22  22004629  positive
23  22005189  negative
24  22005185  positive
25  22004932   neutral
26  22004805   neutral
27  22004566  negative
28  22004431  negative
29  22004413  positive
30  22004294   neutral</code></pre>
</div>
</div>
<p>Our data now has a “sentiment” column reflecting negative, positive, or neutral, base on the sentiment_score coluimn.</p>
</section>
<section id="sentiment-review" class="level1">
<h1>Sentiment Review</h1>
<p>Visualization can help us view the percent breakdown of sentiment and compare sentiment by type of material and news desk.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sentiment_tree<span class="ot">&lt;-</span>comments17_sentiment <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(sentiment) <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">perc =</span> <span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>tree_map<span class="ot">&lt;-</span><span class="fu">ggplot</span>(sentiment_tree, <span class="fu">aes</span>(<span class="at">area=</span>perc, <span class="at">fill =</span> sentiment, <span class="at">label=</span>perc))<span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_treemap</span>()<span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_treemap_text</span>()<span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggtitle</span>(<span class="st">"Sentiment (Percent)"</span>)<span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">"black"</span>, <span class="at">size=</span><span class="dv">14</span>, <span class="at">face=</span><span class="st">"bold.italic"</span>, <span class="at">hjust=</span><span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Sentiment"</span>)<span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="nyt_report_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Sentiment by Percentage</figcaption>
</figure>
</div>
</div>
</div>
<p>From the Tree Map plot we find that postive and negative sentiments are virtuall equal at 42.2% and 42.8% respectively.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>dot_cnt<span class="ot">&lt;-</span><span class="fu">ggplot</span>(comments17_sentiment, <span class="fu">aes</span>(<span class="at">x=</span>sentiment,<span class="at">y=</span>typeOfMaterial))<span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_count</span>(<span class="fu">aes</span>(<span class="at">colour=</span>sentiment))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>gg_dot_cnt<span class="ot">&lt;-</span><span class="fu">ggplotly</span>(dot_cnt)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-204be8f0beb333e5e48c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-204be8f0beb333e5e48c">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1,1,1,1],"y":[1,2,3,4,5,6,7,8,9,10,11],"text":["n:   4069<br />sentiment: 1<br />typeOfMaterial:  1<br />sentiment: negative","n:     45<br />sentiment: 1<br />typeOfMaterial:  2<br />sentiment: negative","n:    471<br />sentiment: 1<br />typeOfMaterial:  3<br />sentiment: negative","n:  39972<br />sentiment: 1<br />typeOfMaterial:  4<br />sentiment: negative","n:     54<br />sentiment: 1<br />typeOfMaterial:  5<br />sentiment: negative","n: 214030<br />sentiment: 1<br />typeOfMaterial:  6<br />sentiment: negative","n:   3603<br />sentiment: 1<br />typeOfMaterial:  7<br />sentiment: negative","n:    264<br />sentiment: 1<br />typeOfMaterial:  8<br />sentiment: negative","n: 151072<br />sentiment: 1<br />typeOfMaterial:  9<br />sentiment: negative","n:    162<br />sentiment: 1<br />typeOfMaterial: 10<br />sentiment: negative","n:   1744<br />sentiment: 1<br />typeOfMaterial: 11<br />sentiment: negative"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":[6.3778336662674269,4.0067105075597658,4.6518016741112964,11.935894507607903,4.0375900473398305,22.655876902837743,6.2239801233752594,4.4246837797668972,19.638197119574773,4.2759206664618175,5.4766686020836266],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"negative","legendgroup":"negative","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,2,2,2,2,2,2,2,2,2,2],"y":[1,2,3,4,5,6,7,8,9,10,11],"text":["n:   1173<br />sentiment: 2<br />typeOfMaterial:  1<br />sentiment: neutral","n:     91<br />sentiment: 2<br />typeOfMaterial:  2<br />sentiment: neutral","n:    381<br />sentiment: 2<br />typeOfMaterial:  3<br />sentiment: neutral","n:  11769<br />sentiment: 2<br />typeOfMaterial:  4<br />sentiment: neutral","n:     14<br />sentiment: 2<br />typeOfMaterial:  5<br />sentiment: neutral","n:  84329<br />sentiment: 2<br />typeOfMaterial:  6<br />sentiment: neutral","n:   1261<br />sentiment: 2<br />typeOfMaterial:  7<br />sentiment: neutral","n:    188<br />sentiment: 2<br />typeOfMaterial:  8<br />sentiment: neutral","n:  44619<br />sentiment: 2<br />typeOfMaterial:  9<br />sentiment: neutral","n:     58<br />sentiment: 2<br />typeOfMaterial: 10<br />sentiment: neutral","n:   1099<br />sentiment: 2<br />typeOfMaterial: 11<br />sentiment: neutral"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":[5.1686374473413981,4.1375747307097992,4.5612056092220135,8.2034367285305088,3.7795275590551185,15.627589255267658,5.2204085489450014,4.3177595519630847,12.397134007167297,4.0501857801489303,5.1235600077684227],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"neutral","legendgroup":"neutral","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,3,3,3,3,3,3,3,3,3],"y":[1,2,3,4,5,6,7,8,9,10,11],"text":["n:   4057<br />sentiment: 3<br />typeOfMaterial:  1<br />sentiment: positive","n:    234<br />sentiment: 3<br />typeOfMaterial:  2<br />sentiment: positive","n:    895<br />sentiment: 3<br />typeOfMaterial:  3<br />sentiment: positive","n:  32449<br />sentiment: 3<br />typeOfMaterial:  4<br />sentiment: positive","n:     84<br />sentiment: 3<br />typeOfMaterial:  5<br />sentiment: positive","n: 214513<br />sentiment: 3<br />typeOfMaterial:  6<br />sentiment: positive","n:   3231<br />sentiment: 3<br />typeOfMaterial:  7<br />sentiment: positive","n:   1122<br />sentiment: 3<br />typeOfMaterial:  8<br />sentiment: positive","n: 148295<br />sentiment: 3<br />typeOfMaterial:  9<br />sentiment: positive","n:    265<br />sentiment: 3<br />typeOfMaterial: 10<br />sentiment: positive","n:   4042<br />sentiment: 3<br />typeOfMaterial: 11<br />sentiment: positive"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":[6.3739862217473711,4.3847377400900482,4.990635464697645,11.128080646788225,4.1209121424130517,22.677165354330711,6.0938316086812971,5.1377308080990929,19.491750690174822,4.4259728044700717,6.369168877746084],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"positive","legendgroup":"positive","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283108,"r":7.3059360730593621,"b":40.182648401826498,"l":113.24200913242012},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["negative","neutral","positive"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["negative","neutral","positive"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"sentiment","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,11.6],"tickmode":"array","ticktext":["Blog","Brief","briefing","Editorial","Letter","News","News Analysis","Obituary (Obit)","Op-Ed","Question","Review"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11],"categoryorder":"array","categoryarray":["Blog","Brief","briefing","Editorial","Letter","News","News Analysis","Obituary (Obit)","Op-Ed","Question","Review"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"typeOfMaterial","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"n<br />sentiment","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"366a14e62b3f":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"366a14e62b3f","visdat":{"366a14e62b3f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Sentiment by Type of Material</p>
</div>
</div>
<p>Editorial has the greatest difference between negative and positive sentiment.</p>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>tile_cnt<span class="ot">&lt;-</span>comments17_sentiment <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(newDesk) <span class="sc">|&gt;</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(sentiment, newDesk) <span class="sc">|&gt;</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">perc=</span><span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">2</span>)<span class="sc">*</span><span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>g_tile<span class="ot">&lt;-</span>tile_cnt <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>sentiment,<span class="at">y=</span>newDesk))<span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill=</span>perc))<span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Percent"</span>)<span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">"Sentiment"</span>)<span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>gg_gtile<span class="ot">&lt;-</span><span class="fu">ggplotly</span>(g_tile)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-4c49b05b341b576f2bc8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4c49b05b341b576f2bc8">{"x":{"data":[{"x":[1,2,3],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"z":[[0.2318840579710145,0.15942028985507245,0.71014492753623182],[0.15942028985507245,0.13043478260869565,0.81159420289855078],[0.52173913043478259,0.11594202898550725,0.46376811594202899],[0.3188405797101449,0.11594202898550725,0.68115942028985521],[0.14492753623188406,0.11594202898550725,0.84057971014492749],[0.56521739130434778,0.08695652173913046,0.44927536231884058],[0.3188405797101449,0.08695652173913046,0.69565217391304357],[0.60869565217391308,0.13043478260869565,0.37681159420289856],[0.11594202898550725,0.2318840579710145,0.75362318840579712],[0.39130434782608697,0.13043478260869565,0.57971014492753625],[0.46376811594202899,0.13043478260869565,0.50724637681159424],[0.34782608695652173,0.15942028985507245,0.59420289855072461],[0.49275362318840582,0.08695652173913046,0.52173913043478259],[0.39130434782608697,0.08695652173913046,0.60869565217391308],[0.39130434782608697,0.14492753623188406,0.56521739130434778],[0.2318840579710145,0.072463768115942032,0.79710144927536231],[0.55072463768115942,0.13043478260869565,0.43478260869565216],[0.71014492753623182,0.17391304347826086,0.21739130434782608],[0.52173913043478259,0.072463768115942032,0.50724637681159424],[0.60869565217391308,0.072463768115942032,0.42028985507246375],[0.39130434782608697,0.08695652173913046,0.62318840579710144],[0.3188405797101449,0.13043478260869565,0.65217391304347827],[0.43478260869565216,0.10144927536231885,0.56521739130434778],[0.24637681159420291,0.072463768115942032,0.78260869565217395],[0.34782608695652173,0.10144927536231885,0.65217391304347827],[0.10144927536231885,0,1],[0.40579710144927539,0.18840579710144928,0.50724637681159424],[0.37681159420289856,0.08695652173913046,0.6376811594202898],[0.20289855072463769,0.11594202898550725,0.78260869565217395],[0.55072463768115942,0.057971014492753624,0.49275362318840582],[0.42028985507246375,0.08695652173913046,0.59420289855072461],[0.24637681159420291,0.08695652173913046,0.76811594202898548],[0.36231884057971014,0.08695652173913046,0.65217391304347827]],"text":[["sentiment: negative<br />newDesk: Arts&Leisure<br />perc: 24","sentiment: neutral<br />newDesk: Arts&Leisure<br />perc: 19","sentiment: positive<br />newDesk: Arts&Leisure<br />perc: 57"],["sentiment: negative<br />newDesk: BookReview<br />perc: 19","sentiment: neutral<br />newDesk: BookReview<br />perc: 17","sentiment: positive<br />newDesk: BookReview<br />perc: 64"],["sentiment: negative<br />newDesk: Business<br />perc: 44","sentiment: neutral<br />newDesk: Business<br />perc: 16","sentiment: positive<br />newDesk: Business<br />perc: 40"],["sentiment: negative<br />newDesk: Culture<br />perc: 30","sentiment: neutral<br />newDesk: Culture<br />perc: 16","sentiment: positive<br />newDesk: Culture<br />perc: 55"],["sentiment: negative<br />newDesk: Dining<br />perc: 18","sentiment: neutral<br />newDesk: Dining<br />perc: 16","sentiment: positive<br />newDesk: Dining<br />perc: 66"],["sentiment: negative<br />newDesk: Editorial<br />perc: 47","sentiment: neutral<br />newDesk: Editorial<br />perc: 14","sentiment: positive<br />newDesk: Editorial<br />perc: 39"],["sentiment: negative<br />newDesk: EdLife<br />perc: 30","sentiment: neutral<br />newDesk: EdLife<br />perc: 14","sentiment: positive<br />newDesk: EdLife<br />perc: 56"],["sentiment: negative<br />newDesk: Foreign<br />perc: 50","sentiment: neutral<br />newDesk: Foreign<br />perc: 17","sentiment: positive<br />newDesk: Foreign<br />perc: 34"],["sentiment: negative<br />newDesk: Games<br />perc: 16","sentiment: neutral<br />newDesk: Games<br />perc: 24","sentiment: positive<br />newDesk: Games<br />perc: 60"],["sentiment: negative<br />newDesk: Insider<br />perc: 35","sentiment: neutral<br />newDesk: Insider<br />perc: 17","sentiment: positive<br />newDesk: Insider<br />perc: 48"],["sentiment: negative<br />newDesk: Investigative<br />perc: 40","sentiment: neutral<br />newDesk: Investigative<br />perc: 17","sentiment: positive<br />newDesk: Investigative<br />perc: 43"],["sentiment: negative<br />newDesk: Learning<br />perc: 32","sentiment: neutral<br />newDesk: Learning<br />perc: 19","sentiment: positive<br />newDesk: Learning<br />perc: 49"],["sentiment: negative<br />newDesk: Letters<br />perc: 42","sentiment: neutral<br />newDesk: Letters<br />perc: 14","sentiment: positive<br />newDesk: Letters<br />perc: 44"],["sentiment: negative<br />newDesk: Magazine<br />perc: 35","sentiment: neutral<br />newDesk: Magazine<br />perc: 14","sentiment: positive<br />newDesk: Magazine<br />perc: 50"],["sentiment: negative<br />newDesk: Metro<br />perc: 35","sentiment: neutral<br />newDesk: Metro<br />perc: 18","sentiment: positive<br />newDesk: Metro<br />perc: 47"],["sentiment: negative<br />newDesk: Metropolitan<br />perc: 24","sentiment: neutral<br />newDesk: Metropolitan<br />perc: 13","sentiment: positive<br />newDesk: Metropolitan<br />perc: 63"],["sentiment: negative<br />newDesk: National<br />perc: 46","sentiment: neutral<br />newDesk: National<br />perc: 17","sentiment: positive<br />newDesk: National<br />perc: 38"],["sentiment: negative<br />newDesk: NewsDesk<br />perc: 57","sentiment: neutral<br />newDesk: NewsDesk<br />perc: 20","sentiment: positive<br />newDesk: NewsDesk<br />perc: 23"],["sentiment: negative<br />newDesk: OpEd<br />perc: 44","sentiment: neutral<br />newDesk: OpEd<br />perc: 13","sentiment: positive<br />newDesk: OpEd<br />perc: 43"],["sentiment: negative<br />newDesk: Podcasts<br />perc: 50","sentiment: neutral<br />newDesk: Podcasts<br />perc: 13","sentiment: positive<br />newDesk: Podcasts<br />perc: 37"],["sentiment: negative<br />newDesk: Politics<br />perc: 35","sentiment: neutral<br />newDesk: Politics<br />perc: 14","sentiment: positive<br />newDesk: Politics<br />perc: 51"],["sentiment: negative<br />newDesk: RealEstate<br />perc: 30","sentiment: neutral<br />newDesk: RealEstate<br />perc: 17","sentiment: positive<br />newDesk: RealEstate<br />perc: 53"],["sentiment: negative<br />newDesk: Science<br />perc: 38","sentiment: neutral<br />newDesk: Science<br />perc: 15","sentiment: positive<br />newDesk: Science<br />perc: 47"],["sentiment: negative<br />newDesk: SpecialSections<br />perc: 25","sentiment: neutral<br />newDesk: SpecialSections<br />perc: 13","sentiment: positive<br />newDesk: SpecialSections<br />perc: 62"],["sentiment: negative<br />newDesk: Sports<br />perc: 32","sentiment: neutral<br />newDesk: Sports<br />perc: 15","sentiment: positive<br />newDesk: Sports<br />perc: 53"],["sentiment: negative<br />newDesk: Styles<br />perc: 15","sentiment: neutral<br />newDesk: Styles<br />perc:  8","sentiment: positive<br />newDesk: Styles<br />perc: 77"],["sentiment: negative<br />newDesk: Summary<br />perc: 36","sentiment: neutral<br />newDesk: Summary<br />perc: 21","sentiment: positive<br />newDesk: Summary<br />perc: 43"],["sentiment: negative<br />newDesk: SundayBusiness<br />perc: 34","sentiment: neutral<br />newDesk: SundayBusiness<br />perc: 14","sentiment: positive<br />newDesk: SundayBusiness<br />perc: 52"],["sentiment: negative<br />newDesk: Travel<br />perc: 22","sentiment: neutral<br />newDesk: Travel<br />perc: 16","sentiment: positive<br />newDesk: Travel<br />perc: 62"],["sentiment: negative<br />newDesk: Unknown<br />perc: 46","sentiment: neutral<br />newDesk: Unknown<br />perc: 12","sentiment: positive<br />newDesk: Unknown<br />perc: 42"],["sentiment: negative<br />newDesk: Upshot<br />perc: 37","sentiment: neutral<br />newDesk: Upshot<br />perc: 14","sentiment: positive<br />newDesk: Upshot<br />perc: 49"],["sentiment: negative<br />newDesk: Weekend<br />perc: 25","sentiment: neutral<br />newDesk: Weekend<br />perc: 14","sentiment: positive<br />newDesk: Weekend<br />perc: 61"],["sentiment: negative<br />newDesk: Well<br />perc: 33","sentiment: neutral<br />newDesk: Well<br />perc: 14","sentiment: positive<br />newDesk: Well<br />perc: 53"]],"colorscale":[[0,"#132B43"],[0.057971014492753624,"#16324C"],[0.072463768115942032,"#17344F"],[0.08695652173913046,"#183551"],[0.10144927536231885,"#193753"],[0.11594202898550725,"#1A3956"],[0.13043478260869565,"#1B3B58"],[0.14492753623188406,"#1C3C5A"],[0.15942028985507245,"#1D3E5D"],[0.17391304347826086,"#1E405F"],[0.18840579710144928,"#1F4262"],[0.20289855072463769,"#1F4364"],[0.21739130434782608,"#204566"],[0.2318840579710145,"#214769"],[0.24637681159420291,"#22496B"],[0.3188405797101449,"#275278"],[0.34782608695652173,"#29567D"],[0.36231884057971014,"#2A587F"],[0.37681159420289856,"#2B5A82"],[0.39130434782608697,"#2C5C85"],[0.40579710144927539,"#2D5E87"],[0.42028985507246375,"#2D5F8A"],[0.43478260869565216,"#2E618C"],[0.44927536231884058,"#2F638F"],[0.46376811594202899,"#306591"],[0.49275362318840582,"#326997"],[0.50724637681159424,"#336B99"],[0.52173913043478259,"#346D9C"],[0.55072463768115942,"#3671A1"],[0.56521739130434778,"#3773A4"],[0.57971014492753625,"#3875A7"],[0.59420289855072461,"#3977A9"],[0.60869565217391308,"#3A79AC"],[0.62318840579710144,"#3B7BAF"],[0.6376811594202898,"#3C7DB1"],[0.65217391304347827,"#3D7FB4"],[0.68115942028985521,"#3F83B9"],[0.69565217391304357,"#4085BC"],[0.71014492753623182,"#4187BF"],[0.75362318840579712,"#448DC7"],[0.76811594202898548,"#458FCA"],[0.78260869565217395,"#4691CD"],[0.79710144927536231,"#4793CF"],[0.81159420289855078,"#4896D2"],[0.84057971014492749,"#4A9AD8"],[1,"#56B1F7"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[1],"name":"eed117e2004fbcef342ea27faec19c98","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#132B43"],[0.0033444816053511588,"#132B44"],[0.0066889632107023428,"#132C44"],[0.010033444816053502,"#142C45"],[0.013377926421404686,"#142D45"],[0.016722408026755845,"#142D46"],[0.020066889632107031,"#142D46"],[0.023411371237458189,"#142E47"],[0.026755852842809371,"#152E47"],[0.030100334448160532,"#152F48"],[0.033444816053511718,"#152F48"],[0.036789297658862873,"#152F49"],[0.040133779264214062,"#153049"],[0.043478260869565216,"#16304A"],[0.046822742474916378,"#16304A"],[0.05016722408026756,"#16314B"],[0.053511705685618742,"#16314B"],[0.056856187290969903,"#16324C"],[0.060200668896321065,"#17324D"],[0.06354515050167224,"#17324D"],[0.066889632107023436,"#17334E"],[0.070234113712374591,"#17334E"],[0.073578595317725745,"#17344F"],[0.076923076923076927,"#18344F"],[0.080267558528428096,"#183450"],[0.083612040133779278,"#183550"],[0.086956521739130432,"#183551"],[0.090301003344481587,"#183651"],[0.093645484949832783,"#193652"],[0.096989966555183965,"#193652"],[0.10033444816053512,"#193753"],[0.10367892976588627,"#193754"],[0.10702341137123747,"#193854"],[0.11036789297658865,"#1A3855"],[0.11371237458193981,"#1A3955"],[0.11705685618729096,"#1A3956"],[0.12040133779264213,"#1A3956"],[0.12374581939799334,"#1A3A57"],[0.12709030100334448,"#1B3A57"],[0.13043478260869565,"#1B3B58"],[0.13377926421404687,"#1B3B59"],[0.13712374581939796,"#1B3B59"],[0.14046822742474918,"#1C3C5A"],[0.14381270903010035,"#1C3C5A"],[0.14715719063545149,"#1C3D5B"],[0.15050167224080271,"#1C3D5B"],[0.15384615384615385,"#1C3D5C"],[0.15719063545150502,"#1D3E5C"],[0.16053511705685619,"#1D3E5D"],[0.16387959866220733,"#1D3F5D"],[0.16722408026755856,"#1D3F5E"],[0.17056856187290972,"#1D3F5F"],[0.17391304347826086,"#1E405F"],[0.17725752508361209,"#1E4060"],[0.18060200668896317,"#1E4160"],[0.1839464882943144,"#1E4161"],[0.18729096989966557,"#1E4261"],[0.19063545150501671,"#1F4262"],[0.19397993311036793,"#1F4263"],[0.19732441471571907,"#1F4363"],[0.20066889632107024,"#1F4364"],[0.20401337792642146,"#1F4464"],[0.20735785953177255,"#204465"],[0.21070234113712377,"#204465"],[0.21404682274247494,"#204566"],[0.21739130434782608,"#204566"],[0.2207357859531773,"#214667"],[0.22408026755852842,"#214668"],[0.22742474916387961,"#214768"],[0.23076923076923078,"#214769"],[0.23411371237458192,"#214769"],[0.23745819397993315,"#22486A"],[0.24080267558528429,"#22486A"],[0.24414715719063546,"#22496B"],[0.24749163879598662,"#22496C"],[0.25083612040133785,"#224A6C"],[0.25418060200668896,"#234A6D"],[0.25752508361204013,"#234A6D"],[0.2608695652173913,"#234B6E"],[0.26421404682274252,"#234B6E"],[0.26755852842809369,"#244C6F"],[0.27090301003344486,"#244C70"],[0.27424749163879597,"#244C70"],[0.27759197324414714,"#244D71"],[0.28093645484949836,"#244D71"],[0.28428093645484953,"#254E72"],[0.2876254180602007,"#254E72"],[0.29096989966555181,"#254F73"],[0.29431438127090304,"#254F74"],[0.2976588628762542,"#254F74"],[0.30100334448160537,"#265075"],[0.30434782608695654,"#265075"],[0.30769230769230771,"#265176"],[0.31103678929765888,"#265176"],[0.31438127090301005,"#275277"],[0.31772575250836121,"#275278"],[0.32107023411371238,"#275278"],[0.32441471571906355,"#275379"],[0.32775919732441472,"#275379"],[0.33110367892976589,"#28547A"],[0.33444816053511706,"#28547B"],[0.33779264214046828,"#28557B"],[0.34113712374581945,"#28557C"],[0.34448160535117056,"#28567C"],[0.34782608695652173,"#29567D"],[0.35117056856187295,"#29567D"],[0.35451505016722418,"#29577E"],[0.35785953177257529,"#29577F"],[0.36120401337792635,"#2A587F"],[0.36454849498327768,"#2A5880"],[0.3678929765886288,"#2A5980"],[0.37123745819397991,"#2A5981"],[0.37458193979933113,"#2A5982"],[0.3779264214046823,"#2B5A82"],[0.38127090301003341,"#2B5A83"],[0.38461538461538464,"#2B5B83"],[0.38795986622073586,"#2B5B84"],[0.39130434782608697,"#2C5C85"],[0.39464882943143814,"#2C5C85"],[0.39799331103678937,"#2C5D86"],[0.40133779264214048,"#2C5D86"],[0.40468227424749159,"#2C5D87"],[0.40802675585284293,"#2D5E87"],[0.41137123745819404,"#2D5E88"],[0.4147157190635451,"#2D5F89"],[0.41806020066889632,"#2D5F89"],[0.42140468227424754,"#2E608A"],[0.42474916387959866,"#2E608A"],[0.42809364548494988,"#2E618B"],[0.43143812709030105,"#2E618C"],[0.43478260869565216,"#2E618C"],[0.43812709030100339,"#2F628D"],[0.44147157190635461,"#2F628D"],[0.44481605351170572,"#2F638E"],[0.44816053511705684,"#2F638F"],[0.45150501672240811,"#30648F"],[0.45484949832775923,"#306490"],[0.45819397993311034,"#306590"],[0.46153846153846156,"#306591"],[0.46488294314381273,"#306592"],[0.46822742474916385,"#316692"],[0.47157190635451507,"#316693"],[0.47491638795986629,"#316793"],[0.47826086956521741,"#316794"],[0.48160535117056857,"#326895"],[0.48494983277591969,"#326895"],[0.48829431438127091,"#326996"],[0.49163879598662213,"#326996"],[0.49498327759197325,"#326997"],[0.49832775919732447,"#336A98"],[0.5016722408026757,"#336A98"],[0.50501672240802675,"#336B99"],[0.50836120401337792,"#336B99"],[0.51170568561872909,"#346C9A"],[0.51505016722408026,"#346C9B"],[0.51839464882943154,"#346D9B"],[0.52173913043478259,"#346D9C"],[0.52508361204013387,"#346E9D"],[0.52842809364548504,"#356E9D"],[0.5317725752508361,"#356E9E"],[0.53511705685618738,"#356F9E"],[0.53846153846153844,"#356F9F"],[0.54180602006688972,"#3670A0"],[0.54515050167224088,"#3670A0"],[0.54849498327759194,"#3671A1"],[0.55183946488294322,"#3671A1"],[0.55518394648829428,"#3772A2"],[0.55852842809364556,"#3772A3"],[0.56187290969899673,"#3773A3"],[0.56521739130434778,"#3773A4"],[0.56856187290969906,"#3773A4"],[0.57190635451505023,"#3874A5"],[0.5752508361204014,"#3874A6"],[0.57859531772575257,"#3875A6"],[0.58193979933110362,"#3875A7"],[0.5852842809364549,"#3976A8"],[0.58862876254180607,"#3976A8"],[0.59197324414715724,"#3977A9"],[0.59531772575250841,"#3977A9"],[0.59866220735785947,"#3978AA"],[0.60200668896321075,"#3A78AB"],[0.60535117056856191,"#3A79AB"],[0.60869565217391308,"#3A79AC"],[0.61204013377926425,"#3A79AC"],[0.61538461538461542,"#3B7AAD"],[0.61872909698996659,"#3B7AAE"],[0.62207357859531776,"#3B7BAE"],[0.62541806020066892,"#3B7BAF"],[0.62876254180602009,"#3C7CB0"],[0.63210702341137126,"#3C7CB0"],[0.63545150501672243,"#3C7DB1"],[0.6387959866220736,"#3C7DB1"],[0.64214046822742477,"#3C7EB2"],[0.64548494983277593,"#3D7EB3"],[0.6488294314381271,"#3D7FB3"],[0.65217391304347827,"#3D7FB4"],[0.65551839464882944,"#3D7FB5"],[0.65886287625418072,"#3E80B5"],[0.66220735785953178,"#3E80B6"],[0.66555183946488294,"#3E81B6"],[0.66889632107023411,"#3E81B7"],[0.67224080267558528,"#3F82B8"],[0.67558528428093656,"#3F82B8"],[0.67892976588628762,"#3F83B9"],[0.6822742474916389,"#3F83BA"],[0.68561872909699006,"#4084BA"],[0.68896321070234112,"#4084BB"],[0.6923076923076924,"#4085BB"],[0.69565217391304346,"#4085BC"],[0.69899665551839474,"#4086BD"],[0.70234113712374591,"#4186BD"],[0.70568561872909696,"#4186BE"],[0.70903010033444824,"#4187BF"],[0.7123745819397993,"#4187BF"],[0.71571906354515058,"#4288C0"],[0.71906354515050175,"#4288C1"],[0.72240802675585281,"#4289C1"],[0.72575250836120409,"#4289C2"],[0.72909698996655525,"#438AC2"],[0.73244147157190642,"#438AC3"],[0.73578595317725759,"#438BC4"],[0.73913043478260865,"#438BC4"],[0.74247491638795993,"#438CC5"],[0.7458193979933111,"#448CC6"],[0.74916387959866226,"#448DC6"],[0.75250836120401343,"#448DC7"],[0.75585284280936449,"#448EC8"],[0.75919732441471577,"#458EC8"],[0.76254180602006694,"#458FC9"],[0.76588628762541811,"#458FC9"],[0.76923076923076927,"#458FCA"],[0.77257525083612044,"#4690CB"],[0.77591973244147161,"#4690CB"],[0.77926421404682278,"#4691CC"],[0.78260869565217395,"#4691CD"],[0.78595317725752512,"#4792CD"],[0.78929765886287628,"#4792CE"],[0.79264214046822745,"#4793CF"],[0.79598662207357862,"#4793CF"],[0.7993311036789299,"#4894D0"],[0.80267558528428096,"#4894D0"],[0.80602006688963213,"#4895D1"],[0.80936454849498329,"#4895D2"],[0.81270903010033446,"#4896D2"],[0.81605351170568585,"#4996D3"],[0.81939799331103691,"#4997D4"],[0.82274247491638808,"#4997D4"],[0.82608695652173914,"#4998D5"],[0.82943143812709019,"#4A98D6"],[0.83277591973244158,"#4A99D6"],[0.83612040133779264,"#4A99D7"],[0.83946488294314392,"#4A9AD8"],[0.84280936454849509,"#4B9AD8"],[0.84615384615384615,"#4B9BD9"],[0.84949832775919731,"#4B9BDA"],[0.85284280936454837,"#4B9BDA"],[0.85618729096989976,"#4C9CDB"],[0.85953177257525104,"#4C9CDB"],[0.8628762541806021,"#4C9DDC"],[0.86622073578595327,"#4C9DDD"],[0.86956521739130432,"#4D9EDD"],[0.87290969899665549,"#4D9EDE"],[0.87625418060200677,"#4D9FDF"],[0.87959866220735783,"#4D9FDF"],[0.88294314381270922,"#4DA0E0"],[0.88628762541806028,"#4EA0E1"],[0.88963210702341144,"#4EA1E1"],[0.8929765886287625,"#4EA1E2"],[0.89632107023411367,"#4EA2E3"],[0.89966555183946495,"#4FA2E3"],[0.90301003344481623,"#4FA3E4"],[0.9063545150501674,"#4FA3E5"],[0.90969899665551845,"#4FA4E5"],[0.91304347826086951,"#50A4E6"],[0.91638795986622068,"#50A5E7"],[0.91973244147157196,"#50A5E7"],[0.92307692307692313,"#50A6E8"],[0.92642140468227441,"#51A6E8"],[0.92976588628762546,"#51A7E9"],[0.93311036789297663,"#51A7EA"],[0.93645484949832769,"#51A8EA"],[0.93979933110367908,"#52A8EB"],[0.94314381270903014,"#52A9EC"],[0.94648829431438131,"#52A9EC"],[0.94983277591973259,"#52AAED"],[0.95317725752508364,"#53AAEE"],[0.95652173913043481,"#53ABEE"],[0.95986622073578609,"#53ABEF"],[0.96321070234113715,"#53ACF0"],[0.96655518394648832,"#54ACF0"],[0.96989966555183937,"#54ADF1"],[0.97324414715719076,"#54ADF2"],[0.97658862876254182,"#54AEF2"],[0.97993311036789299,"#55AEF3"],[0.98327759197324427,"#55AFF4"],[0.98662207357859533,"#55AFF4"],[0.98996655518394649,"#55B0F5"],[0.99331103678929777,"#56B0F6"],[0.99665551839464894,"#56B1F6"],[1,"#56B1F7"]],"colorbar":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"thickness":23.039999999999996,"title":"Percent","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["20","40","60"],"tickvals":[0.17499999999999999,0.46388888888888885,0.75277777777777777],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.228310502283108,"r":7.3059360730593621,"b":40.182648401826498,"l":98.630136986301395},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["negative","neutral","positive"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["negative","neutral","positive"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Sentiment","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,33.600000000000001],"tickmode":"array","ticktext":["Arts&Leisure","BookReview","Business","Culture","Dining","Editorial","EdLife","Foreign","Games","Insider","Investigative","Learning","Letters","Magazine","Metro","Metropolitan","National","NewsDesk","OpEd","Podcasts","Politics","RealEstate","Science","SpecialSections","Sports","Styles","Summary","SundayBusiness","Travel","Unknown","Upshot","Weekend","Well"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"categoryorder":"array","categoryarray":["Arts&Leisure","BookReview","Business","Culture","Dining","Editorial","EdLife","Foreign","Games","Insider","Investigative","Learning","Letters","Magazine","Metro","Metropolitan","National","NewsDesk","OpEd","Podcasts","Politics","RealEstate","Science","SpecialSections","Sports","Styles","Summary","SundayBusiness","Travel","Unknown","Upshot","Weekend","Well"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"366a60c4e26f":{"x":{},"y":{},"fill":{},"type":"heatmap"}},"cur_data":"366a60c4e26f","visdat":{"366a60c4e26f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Sentiment by News Desk</p>
</div>
</div>
<p>Observing sentiment within each news desk section,the Styles, Dining, Book Review, and Metropolitan sections are by far have the highest percentage pf positive comments, all being over 60%. The foreign section has the greatest percentage of negative comments at 50% with 17% of comments being neutral.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>